# netlify.toml  — safe CSP (Report-Only) so styles/scripts load while we tune

[[headers]]
  for = "/*"
  [headers.values]
  Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"
  X-Content-Type-Options    = "nosniff"
  X-Frame-Options           = "DENY"
  Referrer-Policy           = "strict-origin-when-cross-origin"
  Permissions-Policy        = "camera=(), microphone=(), geolocation=()"

  # TEMP: Do NOT block yet — only report violations to browser console.
  "Content-Security-Policy-Report-Only" = """
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval'
      https://www.googletagmanager.com
      https://www.google-analytics.com https://*.google-analytics.com
      https://*.g.doubleclick.net
      https://static.hsappstatic.net https://js.hs-scripts.com https://js.hs-analytics.net
      https://api.whatsapp.com;
    style-src 'self' 'unsafe-inline'
      https://fonts.googleapis.com
      https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://unpkg.com
      https://static.hsappstatic.net;
    img-src 'self' https: data: blob:;
    font-src 'self' data: https://fonts.gstatic.com;
    connect-src 'self'
      https://www.google-analytics.com https://region1.google-analytics.com https://*.g.doubleclick.net
      https://api.hsforms.com https://forms.hsforms.com https://forms-na1.hsforms.com
      https://api.whatsapp.com;
    frame-src 'self' https://www.youtube.com https://player.vimeo.com https://*.hubspot.com https://api.whatsapp.com;

  """

# (Optional) long-cache static assets if you use /assets/
[[headers]]
  for = "/assets/*"
  [headers.values]
  Cache-Control = "public, max-age=31536000, immutable"

# (Optional) favicon caching
[[headers]]
  for = "/favicon.ico"
  [headers.values]
  Cache-Control = "public, max-age=31536000, immutable"

[[redirects]]
  from = "/legal/privacy"
  to = "/privacy.html"
  status = 301

[[redirects]]
  from = "/legal/terms"
  to = "/terms.html"
  status = 301

[[redirects]]
  from = "/legal/esign"
  to = "/esign.html"
  status = 301
