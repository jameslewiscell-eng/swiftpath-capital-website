<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apply • SwiftPath Capital</title><meta name="description" content="Real estate investor loan application.">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>body{font-family:'Inter',sans-serif}.bg-brand-blue{background:#4A7A9D}.bg-brand-gold{background:#c5a35a}</style>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MC0NC3VFNR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-MC0NC3VFNR');
</script>

  <!-- Google Ads global site tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17093021602"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17093021602');
  </script>

<style>
/* Subtle gradient overlay in hero */
section.relative.min-h\[40vh\] .absolute.inset-0.bg-slate-900\/60 {
  background: linear-gradient(180deg, rgba(15, 23, 42, 0.70) 0%, rgba(15, 23, 42, 0.55) 60%, rgba(15, 23, 42, 0.40) 100%);
}
/* Button hover polish */
button.bg-brand-gold, a.bg-brand-gold {
  transition: transform .08s ease, box-shadow .12s ease;
}
button.bg-brand-gold:hover, a.bg-brand-gold:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 18px rgba(0,0,0,.12);
}
/* Details accordion animation */
details.group[open] > summary + * {
  animation: slideDown .2s ease-out;
}
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: translateY(0); }
}
</style>

</head><body class="bg-gray-50 text-slate-700">
<header class="bg-white/80 backdrop-blur-lg sticky top-0 z-40 shadow-sm"><nav class="container mx-auto px-6 py-3 flex justify-between items-center">
<a href="/" class="flex items-center space-x-2"><img src="https://i.postimg.cc/5tFPsLvR/Untitled-design.png" alt="SwiftPath Capital Logo" class="h-12 w-auto"></a>
<div class="hidden md:flex items-center space-x-8"><a href="/#products" class="hover:text-slate-900">Loan Products</a><a href="#application" class="bg-brand-gold text-white font-bold py-2 px-5 rounded-lg shadow">Apply Now</a></div>
</nav></header>
<main>
<section class="relative min-h-[40vh] flex items-center bg-cover bg-center" style="background-image:url('https://images.unsplash.com/photo-1580587771525-78b9dba3b914?q=80&w=2874&auto=format&fit=crop')">
<div class="absolute inset-0 bg-slate-900/60"></div><div class="relative container mx-auto px-6 text-center text-white">
<h1 class="text-4xl md:text-5xl font-extrabold leading-tight mb-4">Start Your Loan Application</h1>
<p class="text-lg md:text-xl max-w-3xl mx-auto mb-8">Hard money & private lender deals.</p>
<a href="#application" class="inline-block bg-brand-blue text-white font-bold py-3 px-8 rounded-lg shadow">Start Your Application</a>
</div></section>
<section id="application" class="py-16 bg-white"><div class="container mx-auto px-6">
<div class="grid md:grid-cols-3 gap-8 items-start">

<div id="formErrors" class="hidden mb-6 p-4 rounded-md bg-red-50 border border-red-200 text-red-700">
  <p class="font-semibold">Please fix the following:</p>
  <ul id="formErrorsList" class="list-disc ml-5 mt-2 space-y-1"></ul>
</div>

<form id="loanForm" class="max-w-4xl mx-auto bg-gray-50 p-8 rounded-xl shadow-lg" novalidate>

  <input type="hidden" id="utm_source" value="">
  <input type="hidden" id="utm_medium" value="">
  <input type="hidden" id="utm_campaign" value="">
  <input type="hidden" id="utm_term" value="">
  <input type="hidden" id="utm_content" value="">
  <input type="hidden" id="gclid" value="">

<h2 class="text-2xl font-bold text-slate-800 border-b-2 border-[#c5a35a] pb-2">Personal Information</h2>
<div class="grid md:grid-cols-2 gap-6 mt-6">
<div><label class="block mb-1 font-medium" for="fullName">Full Name</label><input id="fullName" class="w-full border rounded-lg px-3 py-2" required autocomplete="name" placeholder="Full legal name"></div>
<div><label class="block mb-1 font-medium" for="email">Email</label><input id="email" type="email" class="w-full border rounded-lg px-3 py-2" required autocomplete="email" placeholder="name@example.com"></div>
<div><label class="block mb-1 font-medium" for="phone">Phone</label><input id="phone" type="tel" pattern="^\+?[0-9\s\-()]{7,20}"$ placeholder="+1 407-374-3301" class="w-full border rounded-lg px-3 py-2" required autocomplete="tel"></div>
<div><label class="block mb-1 font-medium" for="mailingAddress">Mailing Address</label><input id="mailingAddress" class="w-full border rounded-lg px-3 py-2" autocomplete="address-line1" placeholder="Street, City, State ZIP"></div>
</div>
<h2 class="mt-10 text-2xl font-bold text-slate-800 border-b-2 border-[#c5a35a] pb-2">Business / Investor Profile</h2>
<div class="grid md:grid-cols-2 gap-6 mt-6">
<div><label class="block mb-1 font-medium" for="businessName">Business Name</label><input id="businessName" class="w-full border rounded-lg px-3 py-2" autocomplete="organization" placeholder="LLC or Company Name"></div>
<div><label class="block mb-1 font-medium" for="businessType">Business Type</label><input id="businessType" class="w-full border rounded-lg px-3 py-2" placeholder="LLC, Corp, Sole Prop"></div>
<div><label class="block mb-1 font-medium" for="numDeals">Completed Investment Deals</label><input id="numDeals" type="number" min="0" class="w-full border rounded-lg px-3 py-2"></div>
<div><label class="block mb-1 font-medium" for="ein">Entity EIN</label><input id="ein" class="w-full border rounded-lg px-3 py-2"></div>
</div>
<h2 class="mt-10 text-2xl font-bold text-slate-800 border-b-2 border-[#c5a35a] pb-2">Property & Loan</h2>
<div class="grid md:grid-cols-2 gap-6 mt-6">
<div><label class="block mb-1 font-medium" for="propertyAddress">Property Address</label><input id="propertyAddress" class="w-full border rounded-lg px-3 py-2" required></div>
<div><label class="block mb-1 font-medium" for="purchasePrice">Purchase Price</label><input id="purchasePrice" class="w-full border rounded-lg px-3 py-2" placeholder="$" required inputmode="decimal" autocomplete="off" placeholder="$250,000"></div>
<div><label class="block mb-1 font-medium" for="rehabBudget">Rehab / Renovation Budget</label><input id="rehabBudget" class="w-full border rounded-lg px-3 py-2" placeholder="$" required inputmode="decimal" autocomplete="off" placeholder="$50,000"></div>
<div><label class="block mb-1 font-medium" for="arv">After Repair Value (ARV)</label><input id="arv" class="w-full border rounded-lg px-3 py-2" placeholder="$" required inputmode="decimal" autocomplete="off" placeholder="$325,000"></div>
<div><label class="block mb-1 font-medium" for="wholesaler">Wholesaler Involved?</label><select id="wholesaler" class="w-full border rounded-lg px-3 py-2"><option value="">Select</option><option>Yes</option><option>No</option></select></div>
<div><label class="block mb-1 font-medium" for="loanPurpose">Loan Purpose</label><select id="loanPurpose" class="w-full border rounded-lg px-3 py-2"><option value="">Select</option><option>Fix-and-Flip</option><option>BRRRR</option><option>Rental Property</option><option>New Construction</option><option>Bridge Loan</option><option>Other</option></select></div>
<div><label class="block mb-1 font-medium" for="loanAmount">Requested Loan Amount</label><input id="loanAmount" class="w-full border rounded-lg px-3 py-2" placeholder="$" inputmode="decimal" autocomplete="off" placeholder="$200,000"></div>
<div><label class="block mb-1 font-medium" for="timeline">Timeline to Close</label><input id="timeline" class="w-full border rounded-lg px-3 py-2" placeholder="ASAP, 14-30 days, etc."></div>
<div class="md:col-span-2"><label class="block mb-1 font-medium" for="exitStrategy">Exit Strategy</label><select id="exitStrategy" class="w-full border rounded-lg px-3 py-2"><option value="">Select</option><option>Sell after rehab</option><option>Refinance into rental loan</option><option>Other</option></select></div>
<div class="md:col-span-2"><label class="block mb-1 font-medium" for="loanDetails">Additional Notes</label><textarea id="loanDetails" rows="4" class="w-full border rounded-lg px-3 py-2" placeholder="Tell us about your project..."></textarea></div>
</div>
<h2 class="mt-10 text-2xl font-bold text-slate-800 border-b-2 border-[#c5a35a] pb-2">Upload Documents</h2>
<p class="text-sm text-slate-600 mb-4">Files are securely uploaded to our Dropbox and passed to underwriting.</p>
<div class="grid md:grid-cols-2 gap-6">
<div><label class="block mb-1 font-medium" for="purchaseContractFile">Purchase Contract (PDF/Image)</label><input id="purchaseContractFile" type="file" accept=".pdf,image/*" class="w-full border rounded-lg px-3 py-2"></div>
<div><label class="block mb-1 font-medium" for="rehabBudgetFile">Rehab Budget (PDF/Spreadsheet)</label><input id="rehabBudgetFile" type="file" accept=".pdf,.xlsx,.xls,.csv,image/*" class="w-full border rounded-lg px-3 py-2"></div>
<div><label class="block mb-1 font-medium" for="compsFile">Comps/Appraisal (PDF/Image)</label><input id="compsFile" type="file" accept=".pdf,image/*" class="w-full border rounded-lg px-3 py-2"></div>
</div>
<div class="mt-8 text-center">
    <div class="mt-4 text-sm">
      <label class="inline-flex items-start gap-2">
        <input id="consentCheckbox" type="checkbox" required class="mt-1">
        <span>I have read and agree to the <a href="#terms" class="underline">Terms &amp; Conditions</a> and <a href="#privacy" class="underline">Privacy Policy</a>.</span>
      </label>
    </div>
<button type="submit" class="bg-brand-gold text-white font-bold py-3 px-12 rounded-lg shadow">Submit Application</button></div>
</form><aside class="hidden md:block md:col-span-1 sticky top-28 self-start"><div class="bg-white rounded-xl shadow-lg p-5 border border-slate-100"><h3 class="text-slate-800 font-semibold">Need help?</h3><p class="mt-2 text-sm text-slate-600">Questions about your application? We can help you finish in minutes.</p><div class="mt-4 space-y-2"><a href="https://wa.me/14073743301" target="_blank" class="block w-full text-center bg-green-500 hover:bg-green-600 text-white font-semibold py-2 rounded-lg">WhatsApp Us</a><a href="tel:+14073743301" class="block w-full text-center bg-brand-blue hover:bg-brand-blue-dark text-white font-semibold py-2 rounded-lg">Call 407‑374‑3301</a></div><p class="mt-3 text-xs text-slate-500">Same‑day term sheets • Secure processing</p></div></aside></div></div></section></main>

<section id="faq" class="py-16 bg-gray-50">
  <div class="container mx-auto px-6 max-w-4xl">
    <h2 class="text-3xl md:text-4xl font-bold text-slate-800 text-center">Frequently Asked Questions</h2>
    <p class="text-slate-600 text-center mt-3">Quick answers to keep you moving.</p>
    <div class="mt-8 divide-y divide-slate-200 rounded-xl bg-white shadow-sm border border-slate-100">
      <details class="group p-5">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-semibold text-slate-800">Will this affect my credit score?</span>
          <span class="transition-transform group-open:rotate-180">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.08 1.04l-4.25 4.25a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
            </svg>
          </span>
        </summary>
        <p class="mt-3 text-slate-600">No. Pre‑qualification does not require a hard credit pull.</p>
      </details>
      <details class="group p-5">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-semibold text-slate-800">How fast can I get funded?</span>
          <span class="transition-transform group-open:rotate-180">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.08 1.04l-4.25 4.25a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
            </svg>
          </span>
        </summary>
        <p class="mt-3 text-slate-600">Approvals in hours; many loans close in just days, depending on docs and title.</p>
      </details>
      <details class="group p-5">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-semibold text-slate-800">Which projects qualify?</span>
          <span class="transition-transform group-open:rotate-180">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.08 1.04l-4.25 4.25a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
            </svg>
          </span>
        </summary>
        <p class="mt-3 text-slate-600">Fix-and-Flip, BRRRR, DSCR rentals, new construction, and bridge loans for 1–4 unit and small multifamily.</p>
      </details>
      <details class="group p-5">
        <summary class="flex cursor-pointer list-none items-center justify-between">
          <span class="font-semibold text-slate-800">What documents should I upload?</span>
          <span class="transition-transform group-open:rotate-180">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-slate-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.08 1.04l-4.25 4.25a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
            </svg>
          </span>
        </summary>
        <p class="mt-3 text-slate-600">Purchase contract, rehab budget, and comps/appraisal if available. You can submit and add documents later.</p>
      </details>
    </div>
  </div>
</section>

<footer class="bg-slate-800 text-white"><div class="container mx-auto px-6 py-10 grid md:grid-cols-3 gap-8">
<div><img src="https://i.postimg.cc/5tFPsLvR/Untitled-design.png" alt="SwiftPath Capital Logo" class="h-10 w-auto bg-white p-1 rounded-md"><p class="mt-3 text-slate-400">Equal Housing Opportunity · Not a commitment to lend.</p></div>
<div><h3 class="font-bold tracking-wide text-[#c5a35a]">Navigation</h3><ul class="mt-3 space-y-2"><li><a href="/#products" class="hover:text-[#c5a35a]">Loan Products</a></li></ul></div>
<div><h3 class="font-bold tracking-wide text-[#c5a35a]">Contact</h3><ul class="mt-3 space-y-1 text-slate-300"><li>Email: <a href="mailto:info@swiftpathcapital.com" class="hover:text-[#c5a35a]">info@swiftpathcapital.com</a></li><li>Phone: <a href="tel:+407-374-3301" class="hover:text-[#c5a35a]">407-374-3301</a></li></ul></div>
</div>
<a href="#" id="open-cookie-prefs" class="text-xs underline">Cookie Preferences</a>
</footer>
<script></script><script src="assets/hubspot.js"></script>

<!-- Validation, attribution capture, and nicer UX -->
<script>
(function(){
  const MAX_FILE_MB = 25;
  const BYTE_LIMIT = MAX_FILE_MB * 1024 * 1024;
  const allowedTypes = {
    purchaseContractFile: ['application/pdf', 'image/',], // image/*
    rehabBudgetFile: ['application/pdf', 'application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'text/csv', 'image/'],
    compsFile: ['application/pdf', 'image/']
  };

  function qs(id){ return document.getElementById(id); }
  function addError(el, msg){
    if(!el) return;
    el.classList.add('border-red-500', 'ring-1', 'ring-red-300');
    let p = document.getElementById('err-' + el.id);
    if(!p){
      p = document.createElement('p');
      p.id = 'err-' + el.id;
      p.className = 'mt-1 text-sm text-red-600';
      el.insertAdjacentElement('afterend', p);
    }
    p.textContent = msg;
  }
  function clearError(el){
    if(!el) return;
    el.classList.remove('border-red-500','ring-1','ring-red-300');
    const p = document.getElementById('err-' + el.id);
    if(p) p.remove();
  }

  function getParam(name){ return new URLSearchParams(window.location.search).get(name) || ''; }
  function captureAttribution(){
    const map = ['utm_source','utm_medium','utm_campaign','utm_term','utm_content','gclid'];
    map.forEach(k => { const v = getParam(k); const el = qs(k); if(el) el.value = v; });
  }
  captureAttribution();

  function validateFiles(errors){
    const pairs = [
      ['purchaseContractFile','PDF or image (max 25MB)'],
      ['rehabBudgetFile','PDF, spreadsheet, CSV, or image (max 25MB)'],
      ['compsFile','PDF or image (max 25MB)']
    ];
    for(const [id, help] of pairs){
      const el = qs(id);
      clearError(el);
      if(!el || !el.files || !el.files[0]) continue;
      const f = el.files[0];
      if(f.size > BYTE_LIMIT){
        errors.push(`${id.replace(/File$/, '').replace(/([A-Z])/g,' $1').trim()}: file exceeds ${MAX_FILE_MB}MB`);
        addError(el, `Too large. Please upload a file under ${MAX_FILE_MB} MB.`);
        continue;
      }
      const t = f.type || '';
      const allow = allowedTypes[id];
      const ok = allow && allow.some(a => a.endsWith('/') ? t.startsWith(a) : t === a);
      if(!ok){
        errors.push(`${id.replace(/File$/, '').replace(/([A-Z])/g,' $1').trim()}: unsupported type. Allowed: ${help}`);
        addError(el, `Unsupported type. Allowed: ${help}.`);
      }
    }
  }

  function onlyDigits(str){ return (str || '').replace(/\D+/g,''); }
  function normalizeCurrencyForSubmit(str){
    const clean = (str || '').replace(/[^0-9.]/g, '');
    const parts = clean.split('.');
    if (parts.length > 2) return parts[0] + '.' + parts.slice(1).join('');
    return clean;
  }
  function validateRequired(errors, id, label){
    const el = qs(id);
    clearError(el);
    if(!el || !el.value || !el.value.trim()){
      errors.push(`${label} is required.`);
      addError(el, `${label} is required.`);
      return false;
    }
    return true;
  }
  function validateEmail(errors){
    const el = qs('email');
    clearError(el);
    const v = (el.value||'').trim();
    const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
    if(!ok){
      errors.push('Please enter a valid email.');
      addError(el, 'Please enter a valid email.');
    }
  }
  function validatePhone(errors){
    const el = qs('phone');
    clearError(el);
    const d = onlyDigits(el.value);
    if(d.length < 10){
      errors.push('Please enter a valid phone number.');
      addError(el, 'Please enter a valid phone number.');
    }
  }
  function validateMoney(errors, id, label){
    const el = qs(id);
    clearError(el);
    const num = parseFloat(normalizeCurrencyForSubmit(el.value));
    if(!isFinite(num) || num <= 0){
      errors.push(`${label} must be a positive number.`);
      addError(el, `${label} must be a positive number.`);
    }
  }

  const form = qs('loanForm');
  const errorsBox = qs('formErrors');
  const errorsList = qs('formErrorsList');

  if(form){
    // Guard against Enter key double-submit
    form.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && e.target.tagName.toLowerCase() !== 'textarea'){
        e.preventDefault();
      }
    });

    // Run validation BEFORE your existing submit listener (capture phase)
    form.addEventListener('submit', (e)=>{
      const errors = [];
      errorsBox.classList.add('hidden');
      errorsList.innerHTML = '';

      // Requireds
      validateRequired(errors, 'fullName', 'Full Name');
      validateRequired(errors, 'email', 'Email');
      validateRequired(errors, 'phone', 'Phone');
      validateRequired(errors, 'propertyAddress', 'Property Address');
      validateRequired(errors, 'purchasePrice', 'Purchase Price');
      validateRequired(errors, 'rehabBudget', 'Rehab / Renovation Budget');
      validateRequired(errors, 'arv', 'After Repair Value');

      // Email/Phone specifics
      validateEmail(errors);
      validatePhone(errors);

      // Money numeric checks
      validateMoney(errors, 'purchasePrice', 'Purchase Price');
      validateMoney(errors, 'rehabBudget', 'Rehab / Renovation Budget');
      validateMoney(errors, 'arv', 'After Repair Value');
      const loanAmtEl = qs('loanAmount');
      if(loanAmtEl && loanAmtEl.value.trim()){
        validateMoney(errors, 'loanAmount', 'Requested Loan Amount');
      }

      // Consent checkbox
      const consent = qs('consentCheckbox');
      if(!consent || !consent.checked){
        errors.push('You must agree to the Terms & Privacy Policy.');
        addError(consent, 'Please check this box to continue.');
      } else {
        clearError(consent);
      }

      // Files
      validateFiles(errors);

      // Show errors if any
      if(errors.length){
        e.preventDefault();
        errorsList.innerHTML = errors.map(t => `<li>${t}</li>`).join('');
        errorsBox.classList.remove('hidden');
        // Scroll to first invalid field for clarity
        const firstErr = document.querySelector('.border-red-500');
        if(firstErr && typeof firstErr.scrollIntoView === 'function'){
          firstErr.scrollIntoView({behavior:'smooth', block:'center'});
        } else {
          errorsBox.scrollIntoView({behavior:'smooth', block:'start'});
        }
      }
    }, true);
  }
})();
</script>

<script>
async function uploadFile(inputId, dealName) {{
  const el = document.getElementById(inputId);
  if (!el || !el.files || !el.files[0]) return null;
  const fd = new FormData();
  fd.append('file', el.files[0]);
  fd.append('dealName', dealName);
  const res = await fetch('/.netlify/functions/upload-to-dropbox', {{ method:'POST', body: fd }});
  if (!res.ok) throw new Error('Upload failed: '+res.status+' '+await res.text());
  const data = await res.json();
  return data.url;
}}

const loanForm = document.getElementById('loanForm');
loanForm.addEventListener('submit', async (e)=>{{
  e.preventDefault();
  const btn = loanForm.querySelector('button[type="submit"]'); btn.disabled=true; btn.innerText='Uploading...';
  try {{
    const dealName = (document.getElementById('fullName').value || 'applicant') + ' - ' + (document.getElementById('propertyAddress').value || 'property');
    const purchaseUrl = await uploadFile('purchaseContractFile', dealName);
    const budgetUrl = await uploadFile('rehabBudgetFile', dealName);
    const compsUrl = await uploadFile('compsFile', dealName);

    btn.innerText='Submitting...';
    const fields = [
      {{ name:'full_name', value: document.getElementById('fullName').value.trim() }},
      {{ name:'email', value: document.getElementById('email').value.trim() }},
      {{ name:'phone', value: document.getElementById('phone').value.trim() }},
      {{ name:'mailing_address', value: document.getElementById('mailingAddress').value.trim() }},
      {{ name:'business_name', value: document.getElementById('businessName').value.trim() }},
      {{ name:'business_type', value: document.getElementById('businessType').value.trim() }},
      {{ name:'num_completed_deals', value: document.getElementById('numDeals').value.trim() }},
      {{ name:'entity_ein', value: document.getElementById('ein').value.trim() }},
      {{ name:'property_address', value: document.getElementById('propertyAddress').value.trim() }},
      {{ name:'purchase_price', value: document.getElementById('purchasePrice').value.trim() }},
      {{ name:'rehab_budget', value: document.getElementById('rehabBudget').value.trim() }},
      {{ name:'after_repair_value', value: document.getElementById('arv').value.trim() }},
      {{ name:'wholesaler_involved', value: document.getElementById('wholesaler').value }},
      {{ name:'loan_purpose', value: document.getElementById('loanPurpose').value }},
      {{ name:'requested_loan_amount', value: document.getElementById('loanAmount').value.trim() }},
      {{ name:'timeline_to_close', value: document.getElementById('timeline').value.trim() }},
      {{ name:'exit_strategy', value: document.getElementById('exitStrategy').value }},
      {{ name:'loan_details', value: document.getElementById('loanDetails').value.trim() }},
      {{ name:'purchase_contract_url', value: purchaseUrl || '' }},
      {{ name:'rehab_budget_url', value: budgetUrl || '' }},
      {{ name:'comps_appraisal_url', value: compsUrl || '' }}
    ];
    if(!window.HUBSPOT_LOAN_GUID) throw new Error('Missing HUBSPOT_LOAN_GUID');
    await window.__swiftpathHS.submitToHubSpot(window.HUBSPOT_LOAN_GUID, fields, '/thank-you.html');
  }} catch(err) {{ alert('There was a problem: '+err.message); }}
  finally {{ btn.disabled=false; btn.innerText='Submit Application'; }}
}});

</script>
<!-- SwiftPath HubSpot Hotfix v3 (name split + hutk guard) -->
<script>
(function () {
  try {
    window.HUBSPOT_PORTAL_ID = "243569048";
    window.HUBSPOT_LEAD_GUID = "65717a53-a61c-4f85-ae97-8c34b85c5d83";
    window.HUBSPOT_LOAN_GUID = "6648e233-6873-4546-a9cf-b20d66ff4e8e";

    function getCookie(name){
      const m = document.cookie.match(new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()\[\]\\/+^])/g, '\\$1') + '=([^;]*)'));
      return m ? decodeURIComponent(m[1]) : null;
    }

    function normalizeFields(fields){
      const out = [];
      let fullName = null;
      for (const f of (fields||[])) {
        if (!f || f.value == null) continue;
        if (f.name === 'full_name' || f.name === 'name') {
          fullName = (''+f.value).trim();
          continue; // we'll expand to firstname/lastname
        }
        out.push({ name: f.name, value: ''+f.value });
      }
      if (fullName) {
        const parts = fullName.split(/\s+/);
        const first = parts.shift() || '';
        const last = parts.join(' ');
        if (first) out.push({ name: 'firstname', value: first });
        if (last)  out.push({ name: 'lastname',  value: last });
      }
      return out;
    }

    window.__swiftpathHS = window.__swiftpathHS || {};
    window.__swiftpathHS.submitToHubSpot = async function (formGuid, fields, redirectTo) {
      const portalId = window.HUBSPOT_PORTAL_ID;
      if (!portalId) throw new Error("Missing HUBSPOT_PORTAL_ID");

      const url = `https://api.hsforms.com/submissions/v3/integration/submit/${portalId}/${formGuid}`;
      const context = { pageUri: window.location.href, pageName: document.title };
      const hutk = getCookie('hubspotutk');
      if (hutk) context.hutk = hutk;

      const payload = { fields: normalizeFields(fields), context: context };

      const res = await fetch(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });
      if (!res.ok) throw new Error("HubSpot returned " + res.status + ": " + await res.text());
      if (redirectTo) {
        try { const qs = window.location.search || ""; window.location.assign(redirectTo + qs); }
        catch (_) { window.location.assign(redirectTo); }
      }
    };
  } catch (e) { console.warn("HubSpot hotfix init error:", e); }
})();
</script>


<script>
(function(){
  function getParam(name){
    return new URLSearchParams(window.location.search).get(name);
  }
  const product = getParam('product');
  if(!product) return;
  const map = {
    "BRRRR Method":"BRRRR",
    "Rental Properties":"Rental Property",
    "Bridge Loans":"Bridge Loan"
  };
  const normalized = map[product] || product;

  const ids = ['loanType','loanPurpose','purpose','applicationPurpose','product'];
  let select = null;
  for(const id of ids){
    const el = document.getElementById(id);
    if(el && el.tagName === 'SELECT'){ select = el; break; }
  }
  if(select){
    // try exact by text
    let opt = Array.from(select.options).find(o => o.text.trim().toLowerCase() === normalized.toLowerCase());
    if(!opt){
      // try contains
      opt = Array.from(select.options).find(o => o.text.toLowerCase().includes(normalized.toLowerCase()));
    }
    if(opt){ select.value = opt.value; select.dispatchEvent(new Event('change')); }
  }
  // set hidden mirrors if present
  ['selected_product','lead_product','loan_product'].forEach(id => {
    const h = document.getElementById(id);
    if(h) h.value = normalized;
  });
})();
</script>


<!-- WhatsApp Floating Button -->
<a href="https://wa.me/14073743301" target="_blank" aria-label="Chat on WhatsApp"
   class="fixed z-50 bottom-5 right-5 md:bottom-6 md:right-6 rounded-full shadow-lg
          bg-green-500 hover:bg-green-600 text-white w-14 h-14 flex items-center justify-center">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" aria-hidden="true" class="w-7 h-7">
    <path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 224.8 32c-116.2 0-210.8 94.6-210.8 210.8 0 37.1 9.7 73.3 28.2 105.3L0 480l134.9-41.4c30.6 16.7 64.9 25.5 99.9 25.5h.1c116.1 0 210.8-94.6 210.8-210.8 0-58.5-23.2-114.3-64.8-156.2zM224.9 438.6h-.1c-31.1 0-61.6-8.3-88.2-24.1l-6.3-3.7-80.1 24.6 26-78.1-4.1-6.7c-17.8-29-27.2-62.5-27.2-96.6C45 156.7 126.6 75 224.8 75c47.8 0 92.8 18.6 126.5 52.3 33.8 33.8 52.4 78.7 52.4 126.5 0 98.1-81.7 184.8-178.8 184.8zM315 304.7c-4.3-2.1-25.4-12.5-29.3-13.9-3.9-2-6.8-.9-9.6 2.2-2.8 3.1-11 12.6-13.5 15.2-2.5 2.6-5 2-8.5 1-3.5-1-22.4-11-38.6-24.1-14.3-11.7-26.8-26.1-36.3-42.2-2.6-4.3-2.7-7.4.1-11.3 3.2-4.3 7.1-9.9 10-13 3.1-3.3 5.2-3.3 9-.9 3.6 2.2 23.1 10.9 27 12.9 3.9 2 6.6 3 9.4-.7 2.8-3.5 11-12.9 13.5-15.4 2.7-2.5 5.6-2.7 9 .4 3.1 3.1 10.5 12.4 10.5 20.6 0 8.2-4.3 16.3-10.6 22.3z"/>
  </svg>
</a>


<script>
// Require consent checkbox to submit
(function(){
  const form = document.getElementById('loanForm');
  if(!form) return;
  form.addEventListener('submit', function(e){
    const cb = document.getElementById('consentCheckbox');
    if(cb && !cb.checked){
      e.preventDefault();
      alert('Please agree to the Terms & Privacy Policy to continue.');
      cb.focus();
    }
  }, true);
})();
</script>


<!-- Cookie Banner -->
<div id="cookieBanner" class="fixed inset-x-0 bottom-0 z-50 bg-gray-900 text-white p-4 shadow-lg hidden">
  <div class="max-w-5xl mx-auto flex flex-col md:flex-row md:items-center gap-3">
    <p class="text-sm leading-snug flex-1">
      We use cookies to improve your experience and to understand site traffic. By clicking <strong>Accept</strong>, you agree to our use of non‑essential cookies.
      See our <a href="#privacy" id="cookiePrivacyLink" class="underline">Privacy Policy</a>.
    </p>
    <div class="flex gap-2">
      <button id="cookieDecline" class="px-3 py-2 rounded bg-gray-700 hover:bg-gray-600 text-sm">Decline</button>
      <button id="cookieAccept" class="px-3 py-2 rounded bg-yellow-400 text-gray-900 font-semibold text-sm">Accept</button>
    </div>
  </div>
</div>
<script>
(function(){
  try {
    var KEY='spc_cookie_consent';
    var banner=document.getElementById('cookieBanner');
    var pref=localStorage.getItem(KEY);
    if(!pref){ banner.classList.remove('hidden'); }
    function set(val){ localStorage.setItem(KEY,val); banner.classList.add('hidden'); }
    document.getElementById('cookieAccept')?.addEventListener('click', function(){ set('accepted'); });
    document.getElementById('cookieDecline')?.addEventListener('click', function(){ set('declined'); });

    // Footer "Cookie Preferences" opener
    document.getElementById('open-cookie-prefs')?.addEventListener('click', function(e){
      e.preventDefault(); banner.classList.remove('hidden');
    });

    // Open privacy modal from banner if available
    document.getElementById('cookiePrivacyLink')?.addEventListener('click', function(e){
      e.preventDefault();
      if (typeof openModal==='function') { openModal('privacyModal'); }
      else { location.hash = '#privacy'; }
    });
  } catch(e){ console.warn('cookie banner error', e); }
})();
</script>


<!-- Auto-format & normalize (currency + phone) before submit -->
<script>
(function(){
  // -------- helpers
  function onlyDigits(str){ return (str || '').replace(/\D+/g,''); }
  function normalizeCurrencyForSubmit(str){
    // keep digits + dot; strip everything else (commas, $)
    const clean = (str || '').replace(/[^0-9.]/g, '');
    const parts = clean.split('.');
    if (parts.length > 2) {
      return parts[0] + '.' + parts.slice(1).join('');
    }
    return clean;
  }
  function formatCurrencyForDisplay(str){
    const clean = normalizeCurrencyForSubmit(str);
    if (!clean) return '';
    const [intPart, decPart] = clean.split('.');
    const withCommas = (intPart || '').replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    return decPart !== undefined ? `${withCommas}.${decPart}` : withCommas;
  }

  function formatPhoneForDisplay(str){
    const d = onlyDigits(str);
    if (d.length === 10) {
      return `(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6)}`;
    }
    return str;
  }
  function normalizePhoneForSubmit(str){
    const d = onlyDigits(str);
    if (d.length === 0) return '';
    if (d.length === 10) return `+1${d}`;         // assume US if 10 digits
    if (d.length > 10 && d[0] != '0') return `+${d}`; // treat as E.164 with country code
    return d;
  }

  const phone = document.getElementById('phone');
  const moneyIds = ['purchasePrice','rehabBudget','arv','loanAmount'];
  const moneyEls = moneyIds
    .map(id => document.getElementById(id))
    .filter(Boolean);

  // Currency: format on input (visual) and on blur
  moneyEls.forEach(el => {
    el.setAttribute('inputmode','decimal');
    el.addEventListener('input', () => {
      const before = el.value;
      el.value = formatCurrencyForDisplay(before);
      try { el.setSelectionRange(el.value.length, el.value.length); } catch(_) {}
    });
    el.addEventListener('blur', () => {
      el.value = formatCurrencyForDisplay(el.value);
    });
  });

  // Phone: live clean & pretty display
  if (phone) {
    phone.setAttribute('type','tel');
    phone.setAttribute('inputmode','tel');
    phone.setAttribute('pattern','^\\+?[0-9\\s\\-()]{7,20}$');
    phone.placeholder = '+1 407-374-3301';
    phone.addEventListener('input', () => {
      const raw = phone.value;
      const d = onlyDigits(raw);
      if (d.length <= 10) {
        phone.value = formatPhoneForDisplay(raw);
      } else {
        phone.value = raw.replace(/[^\d+]/g,'').replace(/(\d{3})(?=\d)/g,'$1 ');
      }
    });
    phone.addEventListener('blur', () => {
      phone.value = formatPhoneForDisplay(phone.value);
    });
  }

  // Normalize values right before your existing submit handler builds the field list
  const loanForm = document.getElementById('loanForm');
  if (loanForm) {
    loanForm.addEventListener('submit', () => {
      moneyEls.forEach(el => { el.value = normalizeCurrencyForSubmit(el.value); });
      if (phone) phone.value = normalizePhoneForSubmit(phone.value);
    }, true); // capture phase so this runs before other listeners
  }
})();
</script>

</body>
</html>